// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Happy path 1`] = `
Object {
  "devDependencies": Object {
    "ot-oc-template-react-email-compiler": "*",
  },
  "name": "react-component",
  "oc": Object {
    "date": "",
    "files": Object {
      "dataProvider": Object {
        "hashKey": "dummyData",
        "src": "server.js",
        "type": "node.js",
      },
      "static": Array [
        "assets",
      ],
      "template": Object {
        "hashKey": "dummyData",
        "src": "template.js",
        "type": "ot-oc-template-react-email",
        "version": "",
      },
    },
    "packaged": true,
    "version": "1.0.0",
  },
  "version": "1.0.0",
}
`;

exports[`Happy path 2`] = `
Array [
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package1/assets/img/test.png",
    "source": "img-binary",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package1/assets/js/lib.js",
    "source": "const text = \\"Hello World\\";
const say = something => console.log(something);
say(text);
",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package1/package.json",
    "source": "{\\"name\\":\\"react-component\\",\\"version\\":\\"1.0.0\\",\\"oc\\":{\\"files\\":{\\"static\\":[\\"assets\\"],\\"template\\":{\\"type\\":\\"ot-oc-template-react-email\\",\\"src\\":\\"template.js\\",\\"version\\":\\"6.6.6\\"},\\"dataProvider\\":{\\"type\\":\\"node.js\\",\\"src\\":\\"server.js\\"}},\\"version\\":\\"1.0.0\\",\\"packaged\\":true,},\\"devDependencies\\":{\\"ot-oc-template-react-email-compiler\\":\\"*\\"}}
",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package1/react-component.js",
    "source": "var oc=oc||{};oc.reactComponents=oc.reactComponents||{};oc.reactComponents['dummyContent']=oc.reactComponents['dummyContent']||(function(){var module = (function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)})([function(a){a.exports=React},function(a){a.exports=PropTypes},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\\\\'t been initialised - super() hasn\\\\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.r(b);var h=c(1),i=c.n(h),j=c(0),k=c.n(j),l=function(){return k.a.createElement('div',null,'Hello')},m=function(a){function b(){return e(this,b),f(this,a.apply(this,arguments))}return g(b,a),b.prototype.getChildContext=function(){var a=this;return{getSetting:function(b){var c={name:a.props._componentName,version:a.props._componentVersion,baseUrl:a.props._baseUrl,staticPath:a.props._staticPath};return c[b]}}},b.prototype.render=function(){var a=this.props,b=a._staticPath,c=a._baseUrl,e=a._componentName,f=a._componentVersion,g=d(a,['_staticPath','_baseUrl','_componentName','_componentVersion']);return k.a.createElement(l,g)},b}(k.a.Component);m.childContextTypes={getSetting:i.a.func};b['default']=m}]);; return module.default}())",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package1/server.js",
    "source": "module.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';c.r(b);const d=(a,b)=>{const c=a.params.name;return b(null,{name:c})};c.d(b,'data',function(){return e});const e=(a,b)=>{d(a,(c,d)=>{if(c)return b(c);const e=Object.assign({},d,{_staticPath:a.staticPath,_baseUrl:a.baseUrl,_componentName:'react-component',_componentVersion:'1.0.0'}),f=0===a.staticPath.indexOf('http'),g=f?a.staticPath:'https:'+a.staticPath;return b(null,Object.assign({},{reactComponent:{,src:g+'react-component.js',props:e}}))})}}]);",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package1/template.js",
    "source": "var oc=oc||{};oc.components=oc.components||{};oc.components['dummyContent']=function(model){ var modelHTML = model.__html ? model.__html : ''; var staticPath = model.reactComponent.props._staticPath; var props = JSON.stringify(model.reactComponent.props); return modelHTML ? modelHTML : '<div id=\\"oc-reactRoot-react-component\\" class=\\"oc-reactRoot-react-component\\">' + modelHTML + '</div>' + '<script>' + 'window.oc = window.oc || {};' + 'oc.cmd = oc.cmd || [];' + 'oc.cmd.push(function(oc){' + 'oc.requireSeries([{\\"name\\":\\"prop-types\\",\\"global\\":\\"PropTypes\\",\\"url\\":\\"cdn.com/prop-types\\"},{\\"name\\":\\"react\\",\\"global\\":\\"React\\",\\"url\\":\\"cdn.com/react\\"},{\\"name\\":\\"react-dom\\",\\"global\\":\\"ReactDOM\\",\\"url\\":\\"cdn.com/react-dom\\"}], function(){' + 'oc.require(' + '[\\"oc\\", \\"reactComponents\\", \\"dummyContent\\"],' + '\\"' + staticPath + 'react-component.js\\",' + 'function(ReactComponent){' + 'var targetNode = document.getElementById(\\"oc-reactRoot-react-component\\");' + 'targetNode.setAttribute(\\"id\\",\\"\\");' + 'ReactDOM.render(React.createElement(ReactComponent,' + props + '),targetNode);' + '}' + ');' + '});' + '});' + '</script>' }",
  },
]
`;

exports[`Happy path 3`] = `
Object {
  "devDependencies": Object {
    "ot-oc-template-react-email-compiler": "*",
  },
  "name": "react-component-with-css",
  "oc": Object {
    "date": "",
    "files": Object {
      "dataProvider": Object {
        "hashKey": "dummyData",
        "src": "server.js",
        "type": "node.js",
      },
      "static": Array [
        "assets",
      ],
      "template": Object {
        "hashKey": "dummyData",
        "src": "template.js",
        "type": "ot-oc-template-react-email",
        "version": "",
      },
    },
    "packaged": true,
    "version": "1.0.0",
  },
  "version": "1.0.0",
}
`;

exports[`Happy path 4`] = `
Array [
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package1/assets/img/test.png",
    "source": "img-binary",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package1/assets/js/lib.js",
    "source": "const text = \\"Hello World\\";
const say = something => console.log(something);
say(text);
",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package1/package.json",
    "source": "{\\"name\\":\\"react-component-with-css\\",\\"version\\":\\"1.0.0\\",\\"oc\\":{\\"files\\":{\\"static\\":[\\"assets\\"],\\"template\\":{\\"type\\":\\"ot-oc-template-react-email\\",\\"src\\":\\"template.js\\",\\"version\\":\\"6.6.6\\"},\\"dataProvider\\":{\\"type\\":\\"node.js\\",\\"src\\":\\"server.js\\"}},\\"version\\":\\"1.0.0\\",\\"packaged\\":true,},\\"devDependencies\\":{\\"ot-oc-template-react-email-compiler\\":\\"*\\"}}
",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package1/react-component.js",
    "source": "var oc=oc||{};oc.reactComponents=oc.reactComponents||{};oc.reactComponents['dummyContent']=oc.reactComponents['dummyContent']||(function(){var module = (function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=3)})([function(a){a.exports=React},function(a){a.exports={\\".awesome\\":{fontFamily:'\\"Hiragino Sans\\", \\"\\\\u30D2\\\\u30E9\\\\u30AE\\\\u30CE\\\\u89D2\\\\u30B4\\\\u30B7\\\\u30C3\\\\u30AF\\", \\"Hiragino Kaku Gothic ProN\\", \\"\\\\u30D2\\\\u30E9\\\\u30AE\\\\u30CE\\\\u89D2\\\\u30B4 ProN W3\\", Roboto, \\"Droid Sans\\", \\"\\\\u6E38\\\\u30B4\\\\u30B7\\\\u30C3\\\\u30AF\\", YuGothic, \\"\\\\u30E1\\\\u30A4\\\\u30EA\\\\u30AA\\", Meiryo, sans-serif',background:'palevioletred'}}},function(a){a.exports=PropTypes},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\\\\'t been initialised - super() hasn\\\\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.r(b);var h=c(2),i=c.n(h),j=c(0),k=c.n(j),l=c(1),m=c.n(l),n=function(){return k.a.createElement('div',{style:m.a.awesome},'Hello')},o=function(a){function b(){return e(this,b),f(this,a.apply(this,arguments))}return g(b,a),b.prototype.getChildContext=function(){var a=this;return{getSetting:function(b){var c={name:a.props._componentName,version:a.props._componentVersion,baseUrl:a.props._baseUrl,staticPath:a.props._staticPath};return c[b]}}},b.prototype.render=function(){var a=this.props,b=a._staticPath,c=a._baseUrl,e=a._componentName,f=a._componentVersion,g=d(a,['_staticPath','_baseUrl','_componentName','_componentVersion']);return k.a.createElement(n,g)},b}(k.a.Component);o.childContextTypes={getSetting:i.a.func};b['default']=o}]);; return module.default}())",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package1/server.js",
    "source": "module.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';c.r(b);const d=(a,b)=>{const c=a.params.name;return b(null,{name:c})};c.d(b,'data',function(){return e});const e=(a,b)=>{d(a,(c,d)=>{if(c)return b(c);const e=Object.assign({},d,{_staticPath:a.staticPath,_baseUrl:a.baseUrl,_componentName:'react-component-with-css',_componentVersion:'1.0.0'}),f=0===a.staticPath.indexOf('http'),g=f?a.staticPath:'https:'+a.staticPath;return b(null,Object.assign({},{reactComponent:{,src:g+'react-component.js',props:e}}))})}}]);",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package1/template.js",
    "source": "var oc=oc||{};oc.components=oc.components||{};oc.components['dummyContent']=function(model){ var modelHTML = model.__html ? model.__html : ''; var staticPath = model.reactComponent.props._staticPath; var props = JSON.stringify(model.reactComponent.props); return modelHTML ? modelHTML : '<div id=\\"oc-reactRoot-react-component-with-css\\" class=\\"oc-reactRoot-react-component-with-css\\">' + modelHTML + '</div>' + '<script>' + 'window.oc = window.oc || {};' + 'oc.cmd = oc.cmd || [];' + 'oc.cmd.push(function(oc){' + 'oc.requireSeries([{\\"name\\":\\"prop-types\\",\\"global\\":\\"PropTypes\\",\\"url\\":\\"cdn.com/prop-types\\"},{\\"name\\":\\"react\\",\\"global\\":\\"React\\",\\"url\\":\\"cdn.com/react\\"},{\\"name\\":\\"react-dom\\",\\"global\\":\\"ReactDOM\\",\\"url\\":\\"cdn.com/react-dom\\"}], function(){' + 'oc.require(' + '[\\"oc\\", \\"reactComponents\\", \\"dummyContent\\"],' + '\\"' + staticPath + 'react-component.js\\",' + 'function(ReactComponent){' + 'var targetNode = document.getElementById(\\"oc-reactRoot-react-component-with-css\\");' + 'targetNode.setAttribute(\\"id\\",\\"\\");' + 'ReactDOM.render(React.createElement(ReactComponent,' + props + '),targetNode);' + '}' + ');' + '});' + '});' + '</script>' }",
  },
]
`;

exports[`Should handle empty static folder 1`] = `
Object {
  "devDependencies": Object {
    "ot-oc-template-react-email-compiler": "*",
  },
  "name": "react-component",
  "oc": Object {
    "date": "",
    "files": Object {
      "dataProvider": Object {
        "hashKey": "dummyData",
        "src": "server.js",
        "type": "node.js",
      },
      "static": Array [],
      "template": Object {
        "hashKey": "dummyData",
        "src": "template.js",
        "type": "ot-oc-template-react-email",
        "version": "",
      },
    },
    "packaged": true,
    "version": "1.0.0",
  },
  "version": "1.0.0",
}
`;

exports[`Should handle empty static folder 2`] = `
Array [
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package2/package.json",
    "source": "{\\"name\\":\\"react-component\\",\\"version\\":\\"1.0.0\\",\\"oc\\":{\\"files\\":{\\"template\\":{\\"type\\":\\"ot-oc-template-react-email\\",\\"src\\":\\"template.js\\",\\"version\\":\\"6.6.6\\"},\\"dataProvider\\":{\\"type\\":\\"node.js\\",\\"src\\":\\"server.js\\"},\\"static\\":[]},\\"version\\":\\"1.0.0\\",\\"packaged\\":true,},\\"devDependencies\\":{\\"ot-oc-template-react-email-compiler\\":\\"*\\"}}
",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package2/react-component.js",
    "source": "var oc=oc||{};oc.reactComponents=oc.reactComponents||{};oc.reactComponents['dummyContent']=oc.reactComponents['dummyContent']||(function(){var module = (function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)})([function(a){a.exports=React},function(a){a.exports=PropTypes},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\\\\'t been initialised - super() hasn\\\\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.r(b);var h=c(1),i=c.n(h),j=c(0),k=c.n(j),l=function(){return k.a.createElement('div',null,'Hello')},m=function(a){function b(){return e(this,b),f(this,a.apply(this,arguments))}return g(b,a),b.prototype.getChildContext=function(){var a=this;return{getSetting:function(b){var c={name:a.props._componentName,version:a.props._componentVersion,baseUrl:a.props._baseUrl,staticPath:a.props._staticPath};return c[b]}}},b.prototype.render=function(){var a=this.props,b=a._staticPath,c=a._baseUrl,e=a._componentName,f=a._componentVersion,g=d(a,['_staticPath','_baseUrl','_componentName','_componentVersion']);return k.a.createElement(l,g)},b}(k.a.Component);m.childContextTypes={getSetting:i.a.func};b['default']=m}]);; return module.default}())",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package2/server.js",
    "source": "module.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';c.r(b);const d=(a,b)=>{const c=a.params.name;return b(null,{name:c})};c.d(b,'data',function(){return e});const e=(a,b)=>{d(a,(c,d)=>{if(c)return b(c);const e=Object.assign({},d,{_staticPath:a.staticPath,_baseUrl:a.baseUrl,_componentName:'react-component',_componentVersion:'1.0.0'}),f=0===a.staticPath.indexOf('http'),g=f?a.staticPath:'https:'+a.staticPath;return b(null,Object.assign({},{reactComponent:{,src:g+'react-component.js',props:e}}))})}}]);",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package2/template.js",
    "source": "var oc=oc||{};oc.components=oc.components||{};oc.components['dummyContent']=function(model){ var modelHTML = model.__html ? model.__html : ''; var staticPath = model.reactComponent.props._staticPath; var props = JSON.stringify(model.reactComponent.props); return modelHTML ? modelHTML : '<div id=\\"oc-reactRoot-react-component\\" class=\\"oc-reactRoot-react-component\\">' + modelHTML + '</div>' + '<script>' + 'window.oc = window.oc || {};' + 'oc.cmd = oc.cmd || [];' + 'oc.cmd.push(function(oc){' + 'oc.requireSeries([{\\"name\\":\\"prop-types\\",\\"global\\":\\"PropTypes\\",\\"url\\":\\"cdn.com/prop-types\\"},{\\"name\\":\\"react\\",\\"global\\":\\"React\\",\\"url\\":\\"cdn.com/react\\"},{\\"name\\":\\"react-dom\\",\\"global\\":\\"ReactDOM\\",\\"url\\":\\"cdn.com/react-dom\\"}], function(){' + 'oc.require(' + '[\\"oc\\", \\"reactComponents\\", \\"dummyContent\\"],' + '\\"' + staticPath + 'react-component.js\\",' + 'function(ReactComponent){' + 'var targetNode = document.getElementById(\\"oc-reactRoot-react-component\\");' + 'targetNode.setAttribute(\\"id\\",\\"\\");' + 'ReactDOM.render(React.createElement(ReactComponent,' + props + '),targetNode);' + '}' + ');' + '});' + '});' + '</script>' }",
  },
]
`;

exports[`Should handle empty static folder 3`] = `
Object {
  "devDependencies": Object {
    "ot-oc-template-react-email-compiler": "*",
  },
  "name": "react-component-with-css",
  "oc": Object {
    "date": "",
    "files": Object {
      "dataProvider": Object {
        "hashKey": "dummyData",
        "src": "server.js",
        "type": "node.js",
      },
      "static": Array [],
      "template": Object {
        "hashKey": "dummyData",
        "src": "template.js",
        "type": "ot-oc-template-react-email",
        "version": "",
      },
    },
    "packaged": true,
    "version": "1.0.0",
  },
  "version": "1.0.0",
}
`;

exports[`Should handle empty static folder 4`] = `
Array [
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package2/package.json",
    "source": "{\\"name\\":\\"react-component-with-css\\",\\"version\\":\\"1.0.0\\",\\"oc\\":{\\"files\\":{\\"template\\":{\\"type\\":\\"ot-oc-template-react-email\\",\\"src\\":\\"template.js\\",\\"version\\":\\"6.6.6\\"},\\"dataProvider\\":{\\"type\\":\\"node.js\\",\\"src\\":\\"server.js\\"},\\"static\\":[]},\\"version\\":\\"1.0.0\\",\\"packaged\\":true,},\\"devDependencies\\":{\\"ot-oc-template-react-email-compiler\\":\\"*\\"}}
",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package2/react-component.js",
    "source": "var oc=oc||{};oc.reactComponents=oc.reactComponents||{};oc.reactComponents['dummyContent']=oc.reactComponents['dummyContent']||(function(){var module = (function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=3)})([function(a){a.exports=React},function(a){a.exports={\\".awesome\\":{fontFamily:'\\"Hiragino Sans\\", \\"\\\\u30D2\\\\u30E9\\\\u30AE\\\\u30CE\\\\u89D2\\\\u30B4\\\\u30B7\\\\u30C3\\\\u30AF\\", \\"Hiragino Kaku Gothic ProN\\", \\"\\\\u30D2\\\\u30E9\\\\u30AE\\\\u30CE\\\\u89D2\\\\u30B4 ProN W3\\", Roboto, \\"Droid Sans\\", \\"\\\\u6E38\\\\u30B4\\\\u30B7\\\\u30C3\\\\u30AF\\", YuGothic, \\"\\\\u30E1\\\\u30A4\\\\u30EA\\\\u30AA\\", Meiryo, sans-serif',background:'palevioletred'}}},function(a){a.exports=PropTypes},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\\\\'t been initialised - super() hasn\\\\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.r(b);var h=c(2),i=c.n(h),j=c(0),k=c.n(j),l=c(1),m=c.n(l),n=function(){return k.a.createElement('div',{style:m.a.awesome},'Hello')},o=function(a){function b(){return e(this,b),f(this,a.apply(this,arguments))}return g(b,a),b.prototype.getChildContext=function(){var a=this;return{getSetting:function(b){var c={name:a.props._componentName,version:a.props._componentVersion,baseUrl:a.props._baseUrl,staticPath:a.props._staticPath};return c[b]}}},b.prototype.render=function(){var a=this.props,b=a._staticPath,c=a._baseUrl,e=a._componentName,f=a._componentVersion,g=d(a,['_staticPath','_baseUrl','_componentName','_componentVersion']);return k.a.createElement(n,g)},b}(k.a.Component);o.childContextTypes={getSetting:i.a.func};b['default']=o}]);; return module.default}())",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package2/server.js",
    "source": "module.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){'use strict';c.r(b);const d=(a,b)=>{const c=a.params.name;return b(null,{name:c})};c.d(b,'data',function(){return e});const e=(a,b)=>{d(a,(c,d)=>{if(c)return b(c);const e=Object.assign({},d,{_staticPath:a.staticPath,_baseUrl:a.baseUrl,_componentName:'react-component-with-css',_componentVersion:'1.0.0'}),f=0===a.staticPath.indexOf('http'),g=f?a.staticPath:'https:'+a.staticPath;return b(null,Object.assign({},{reactComponent:{,src:g+'react-component.js',props:e}}))})}}]);",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package2/template.js",
    "source": "var oc=oc||{};oc.components=oc.components||{};oc.components['dummyContent']=function(model){ var modelHTML = model.__html ? model.__html : ''; var staticPath = model.reactComponent.props._staticPath; var props = JSON.stringify(model.reactComponent.props); return modelHTML ? modelHTML : '<div id=\\"oc-reactRoot-react-component-with-css\\" class=\\"oc-reactRoot-react-component-with-css\\">' + modelHTML + '</div>' + '<script>' + 'window.oc = window.oc || {};' + 'oc.cmd = oc.cmd || [];' + 'oc.cmd.push(function(oc){' + 'oc.requireSeries([{\\"name\\":\\"prop-types\\",\\"global\\":\\"PropTypes\\",\\"url\\":\\"cdn.com/prop-types\\"},{\\"name\\":\\"react\\",\\"global\\":\\"React\\",\\"url\\":\\"cdn.com/react\\"},{\\"name\\":\\"react-dom\\",\\"global\\":\\"ReactDOM\\",\\"url\\":\\"cdn.com/react-dom\\"}], function(){' + 'oc.require(' + '[\\"oc\\", \\"reactComponents\\", \\"dummyContent\\"],' + '\\"' + staticPath + 'react-component.js\\",' + 'function(ReactComponent){' + 'var targetNode = document.getElementById(\\"oc-reactRoot-react-component-with-css\\");' + 'targetNode.setAttribute(\\"id\\",\\"\\");' + 'ReactDOM.render(React.createElement(ReactComponent,' + props + '),targetNode);' + '}' + ');' + '});' + '});' + '</script>' }",
  },
]
`;

exports[`Should handle server.js-less components 1`] = `
Object {
  "devDependencies": Object {
    "ot-oc-template-react-email-compiler": "*",
  },
  "name": "react-component",
  "oc": Object {
    "date": "",
    "files": Object {
      "static": Array [
        "assets",
      ],
      "template": Object {
        "hashKey": "dummyData",
        "src": "template.js",
        "type": "ot-oc-template-react-email",
        "version": "",
      },
    },
    "packaged": true,
    "version": "1.0.0",
  },
  "version": "1.0.0",
}
`;

exports[`Should handle server.js-less components 2`] = `
Array [
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package4/assets/img/test.png",
    "source": "img-binary",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package4/assets/js/lib.js",
    "source": "const text = \\"Hello World\\";
const say = something => console.log(something);
say(text);
",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package4/package.json",
    "source": "{\\"name\\":\\"react-component\\",\\"version\\":\\"1.0.0\\",\\"oc\\":{\\"files\\":{\\"static\\":[\\"assets\\"],\\"template\\":{\\"type\\":\\"ot-oc-template-react-email\\",\\"src\\":\\"template.js\\",\\"version\\":\\"6.6.6\\"}},\\"version\\":\\"1.0.0\\",\\"packaged\\":true,},\\"devDependencies\\":{\\"ot-oc-template-react-email-compiler\\":\\"*\\"}}
",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package4/react-component.js",
    "source": "var oc=oc||{};oc.reactComponents=oc.reactComponents||{};oc.reactComponents['dummyContent']=oc.reactComponents['dummyContent']||(function(){var module = (function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)})([function(a){a.exports=React},function(a){a.exports=PropTypes},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\\\\'t been initialised - super() hasn\\\\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.r(b);var h=c(1),i=c.n(h),j=c(0),k=c.n(j),l=function(){return k.a.createElement('div',null,'Hello')},m=function(a){function b(){return e(this,b),f(this,a.apply(this,arguments))}return g(b,a),b.prototype.getChildContext=function(){var a=this;return{getSetting:function(b){var c={name:a.props._componentName,version:a.props._componentVersion,baseUrl:a.props._baseUrl,staticPath:a.props._staticPath};return c[b]}}},b.prototype.render=function(){var a=this.props,b=a._staticPath,c=a._baseUrl,e=a._componentName,f=a._componentVersion,g=d(a,['_staticPath','_baseUrl','_componentName','_componentVersion']);return k.a.createElement(l,g)},b}(k.a.Component);m.childContextTypes={getSetting:i.a.func};b['default']=m}]);; return module.default}())",
  },
  Object {
    "path": "../../../mocks/react-component/_compile-tests-package4/template.js",
    "source": "var oc=oc||{};oc.components=oc.components||{};oc.components['dummyContent']=function(model){ var modelHTML = model.__html ? model.__html : ''; var staticPath = model.reactComponent.props._staticPath; var props = JSON.stringify(model.reactComponent.props); return modelHTML ? modelHTML : '<div id=\\"oc-reactRoot-react-component\\" class=\\"oc-reactRoot-react-component\\">' + modelHTML + '</div>' + '<script>' + 'window.oc = window.oc || {};' + 'oc.cmd = oc.cmd || [];' + 'oc.cmd.push(function(oc){' + 'oc.requireSeries([{\\"name\\":\\"prop-types\\",\\"global\\":\\"PropTypes\\",\\"url\\":\\"cdn.com/prop-types\\"},{\\"name\\":\\"react\\",\\"global\\":\\"React\\",\\"url\\":\\"cdn.com/react\\"},{\\"name\\":\\"react-dom\\",\\"global\\":\\"ReactDOM\\",\\"url\\":\\"cdn.com/react-dom\\"}], function(){' + 'oc.require(' + '[\\"oc\\", \\"reactComponents\\", \\"dummyContent\\"],' + '\\"' + staticPath + 'react-component.js\\",' + 'function(ReactComponent){' + 'var targetNode = document.getElementById(\\"oc-reactRoot-react-component\\");' + 'targetNode.setAttribute(\\"id\\",\\"\\");' + 'ReactDOM.render(React.createElement(ReactComponent,' + props + '),targetNode);' + '}' + ');' + '});' + '});' + '</script>' }",
  },
]
`;

exports[`Should handle server.js-less components 3`] = `
Object {
  "devDependencies": Object {
    "ot-oc-template-react-email-compiler": "*",
  },
  "name": "react-component-with-css",
  "oc": Object {
    "date": "",
    "files": Object {
      "static": Array [
        "assets",
      ],
      "template": Object {
        "hashKey": "dummyData",
        "src": "template.js",
        "type": "ot-oc-template-react-email",
        "version": "",
      },
    },
    "packaged": true,
    "version": "1.0.0",
  },
  "version": "1.0.0",
}
`;

exports[`Should handle server.js-less components 4`] = `
Array [
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package4/assets/img/test.png",
    "source": "img-binary",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package4/assets/js/lib.js",
    "source": "const text = \\"Hello World\\";
const say = something => console.log(something);
say(text);
",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package4/package.json",
    "source": "{\\"name\\":\\"react-component-with-css\\",\\"version\\":\\"1.0.0\\",\\"oc\\":{\\"files\\":{\\"static\\":[\\"assets\\"],\\"template\\":{\\"type\\":\\"ot-oc-template-react-email\\",\\"src\\":\\"template.js\\",\\"version\\":\\"6.6.6\\"}},\\"version\\":\\"1.0.0\\",\\"packaged\\":true,},\\"devDependencies\\":{\\"ot-oc-template-react-email-compiler\\":\\"*\\"}}
",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package4/react-component.js",
    "source": "var oc=oc||{};oc.reactComponents=oc.reactComponents||{};oc.reactComponents['dummyContent']=oc.reactComponents['dummyContent']||(function(){var module = (function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=3)})([function(a){a.exports=React},function(a){a.exports={\\".awesome\\":{fontFamily:'\\"Hiragino Sans\\", \\"\\\\u30D2\\\\u30E9\\\\u30AE\\\\u30CE\\\\u89D2\\\\u30B4\\\\u30B7\\\\u30C3\\\\u30AF\\", \\"Hiragino Kaku Gothic ProN\\", \\"\\\\u30D2\\\\u30E9\\\\u30AE\\\\u30CE\\\\u89D2\\\\u30B4 ProN W3\\", Roboto, \\"Droid Sans\\", \\"\\\\u6E38\\\\u30B4\\\\u30B7\\\\u30C3\\\\u30AF\\", YuGothic, \\"\\\\u30E1\\\\u30A4\\\\u30EA\\\\u30AA\\", Meiryo, sans-serif',background:'palevioletred'}}},function(a){a.exports=PropTypes},function(a,b,c){'use strict';function d(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function e(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function f(a,b){if(!a)throw new ReferenceError('this hasn\\\\'t been initialised - super() hasn\\\\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function g(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}c.r(b);var h=c(2),i=c.n(h),j=c(0),k=c.n(j),l=c(1),m=c.n(l),n=function(){return k.a.createElement('div',{style:m.a.awesome},'Hello')},o=function(a){function b(){return e(this,b),f(this,a.apply(this,arguments))}return g(b,a),b.prototype.getChildContext=function(){var a=this;return{getSetting:function(b){var c={name:a.props._componentName,version:a.props._componentVersion,baseUrl:a.props._baseUrl,staticPath:a.props._staticPath};return c[b]}}},b.prototype.render=function(){var a=this.props,b=a._staticPath,c=a._baseUrl,e=a._componentName,f=a._componentVersion,g=d(a,['_staticPath','_baseUrl','_componentName','_componentVersion']);return k.a.createElement(n,g)},b}(k.a.Component);o.childContextTypes={getSetting:i.a.func};b['default']=o}]);; return module.default}())",
  },
  Object {
    "path": "../../../mocks/react-component-with-css/_compile-tests-package4/template.js",
    "source": "var oc=oc||{};oc.components=oc.components||{};oc.components['dummyContent']=function(model){ var modelHTML = model.__html ? model.__html : ''; var staticPath = model.reactComponent.props._staticPath; var props = JSON.stringify(model.reactComponent.props); return modelHTML ? modelHTML : '<div id=\\"oc-reactRoot-react-component-with-css\\" class=\\"oc-reactRoot-react-component-with-css\\">' + modelHTML + '</div>' + '<script>' + 'window.oc = window.oc || {};' + 'oc.cmd = oc.cmd || [];' + 'oc.cmd.push(function(oc){' + 'oc.requireSeries([{\\"name\\":\\"prop-types\\",\\"global\\":\\"PropTypes\\",\\"url\\":\\"cdn.com/prop-types\\"},{\\"name\\":\\"react\\",\\"global\\":\\"React\\",\\"url\\":\\"cdn.com/react\\"},{\\"name\\":\\"react-dom\\",\\"global\\":\\"ReactDOM\\",\\"url\\":\\"cdn.com/react-dom\\"}], function(){' + 'oc.require(' + '[\\"oc\\", \\"reactComponents\\", \\"dummyContent\\"],' + '\\"' + staticPath + 'react-component.js\\",' + 'function(ReactComponent){' + 'var targetNode = document.getElementById(\\"oc-reactRoot-react-component-with-css\\");' + 'targetNode.setAttribute(\\"id\\",\\"\\");' + 'ReactDOM.render(React.createElement(ReactComponent,' + props + '),targetNode);' + '}' + ');' + '});' + '});' + '</script>' }",
  },
]
`;

exports[`When files writing fails should return an error 1`] = `"app.js compilation failed - sorry I failed"`;
